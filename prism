generator client {
text String?
url String? // for audio/video
order Int @default(0)
}


model Quiz {
id Int @id @default(autoincrement())
lesson Lesson @relation(fields: [lessonId], references: [id])
lessonId Int
title String
questions Question[]
}


model Question {
id Int @id @default(autoincrement())
quiz Quiz @relation(fields: [quizId], references: [id])
quizId Int
text String
choices Choice[]
}


model Choice {
id Int @id @default(autoincrement())
question Question @relation(fields: [questionId], references: [id])
questionId Int
text String
isCorrect Boolean @default(false)
}


model Enrollment {
id Int @id @default(autoincrement())
user User @relation(fields: [userId], references: [id])
userId Int
course Course @relation(fields: [courseId], references: [id])
courseId Int
enrolledAt DateTime @default(now())
}


model LessonProgress {
id Int @id @default(autoincrement())
user User @relation(fields: [userId], references: [id])
userId Int
lesson Lesson @relation(fields: [lessonId], references: [id])
lessonId Int
completed Boolean @default(false)
completedAt DateTime?
}


model QuizResult {
id Int @id @default(autoincrement())
user User @relation(fields: [userId], references: [id])
userId Int
quiz Quiz @relation(fields: [quizId], references: [id])
quizId Int
score Float
total Int
passed Boolean
takenAt DateTime @default(now())
}